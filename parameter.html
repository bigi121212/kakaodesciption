<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>파라미터 설명</title>
  </head>
  <body>
    <ul>
      <li><a href="block.html">블럭</a></li>
      <li><a href="context.html">컨텍스트</a></li>
      <li><a href="entity.html">엔티티</a></li>
      <li><a href="parameter.html">파라미터</a></li>
      <li><a href="pattern.html">패턴</a></li>
      <li><a href="plugin.html">패턴</a></li>
    </ul>
    <h1><파라미터></h1>

    <p>
      채팅 봇과 <strong>'주고 받는 대화'</strong>를 위한 필수 요소<br>
사용자의 입력값에 따라 채팅이 어떻게 이뤄질지 정해지는 부분
    </p>

    <h3>파라미터 만들기에서 '값'창</h3>
    <p>
      <ul>
        <li>엔티티 값</li>
        -$로 시작함<br>
-파라미터 이름과 같아야 함.(무조건은 아니지만, 같아야 구분하기 쉽다)<br>
-사용자의 입력에 따라 출력이 변한다
<p>
일반적인 코딩의 변수 선언 후 그 변수에 사용자 입력을 넣는 것과 비슷<br>
파이썬에서 x = input('사용자 입력: ')<br>
예) 파라미터명:	x<br>
값:		$x</p>

        <li style="color:red">특정값</li>
          -#으로 시작<br>
        	-아직 이해를 못함<br><br>


        <li>고정값</li>
        -$ 또는 #을 사용하지 않는다.<br>
	-한 번 정한 값은 절대로 변하지 않는다.(해당 블록 내에서만 적용)
<p>
	일반적인 코딩의 변수 선언과 비슷하다 보면 될듯하다<br>
	x = 1; 과 같은 c코딩을 한다 가정하면,<br>
	파라미터 만들기에선<br>
	파라미터명: 	x<br>
	값:		1</p>

      </ul>
    </p>

    <h3>파라미터 사용 예시</h3>
    <p>
      <h5>[일반 파라미터 사용시]</h5>
사용자의 입력값을 파라미터를 변수로 사용해 결과 부분에 표시 할 수 있다.
    </p>
    <p>
예) 사용자의 입력값을 사용할 때<br>
상황) 본인 나이 말하고 채팅봇이 '당신의 나이는 x살이군요'</p>

<p>발화로 '살', '살 입니다', 등등으로 적는다.<br>
키워드인 '살'에다가 엔티티를 적용. 숫자이기에 시스템 엔티티의 @sys.number.age를 적용<br>
파라미터 만들기 창에서 파라미터명을 본이이 구분 가능한 이름으로 기입. 예: age<br>
엔티티는 @sys.number.age 선택<br>
값은 $age<br><br>
봇 응답형식 설정의 텍스트형에서 '당신의 나이는 @age이군요' 이라고 저장</p>
<p><ul>
  <li>작동</li>
  사용자: 22살입니다.<br>
  챗봇:	당신의 나이는 22살이군요
</ul></p>

  <h5>[필수 파라미터 사용시]</h5>
  <p>
되묻기 부분을 필수적으로 채워야한다.<br>
파라미터 만들기 창에서 '값' 또는 '기본값 사용'을 채우게 될 경우 채팅봇이 되묻지 않는다.<br>
채팅봇이 되물었을 시 미리 설정한 엔티티의 엔트리 목록과 사용자의 입력값이 일치해야 다음으로 넘어간다.</p>
<p><ul>
  <li>챗봇이 되묻고 사용자가 입력한 값을 사용하여 챗봇의 응답을 하기 원하면 위와 비슷하다.</li>
  <li>다른 점으로는 파라미터 만들기 창에서의 '값'이 비워져 있다.</li>
  <li>반드시 설정한 엔티티의 엔트리 목록과 일치한 값이어야 한다.</li>
  <li>특이한 점이 있다.</li>
</ul></p>

<p>
예) 시스템 엔티티를 사용해 사용자 입력값을 결과값에 출력하고 싶을 때<br>
상황) 사용자가 챗봇에게 어디냐고 묻고 채팅봇이 '나 지금 서울이야'라고 답을 했다.<br>
여기서 사용자가 채팅봇에게 '서울?'이라고 다시 묻고 챗봇이 '어디긴~서울이라고' 대답함
</p>

<p>발화로 '어디'하고 시스템 엔티티의 @sys.location를 사용.<br>
파라미터 만들기에서 필수 파라미터 체크하고
<ol>
  <ul>
    <li>파라미터명으로 location</li>
    <li>엔티티 sys.location 선택</li>
    <li>값은 비워둔다</li>
  </ul>
</ol>
</p>

<p>봇 응답형식 설정에서 텍스트형으로
<ul>
  '@sys_location긴~@location이라고' 저장
</ul><br>
<ul><strong>작동</strong></ul>
<ul>사용자: 어디</ul>
<ul>봇:	나 지금 서울이야</ul>
<ul>사용자:	서울?</ul>
<ul>봇:	어디긴~서울?이라고</ul>
<br>
<ul><strong>*특이점*</strong></ul>
<ul>위와 같이 시스템 엔티티를 사용했을 때, location의 경우 서울, 대구, 부산, 등등 지역명을</ul>
<ul>치고 띄어쓰기 없이 아무말을 붙여 쓰면 아무 문제 없이 결과값 출력.</ul>
<ul>위의 예시로는 사용자가 서울 뒤에 '?'를 붙였는데 결과 값으로 '서울?이라고' 뜬다.</ul>
<ul>즉, 지역명만 대답에 들어있으면 어떤 말을 해도 실행 가능.</ul>
<ul>
  <ul>
  <li>사용자: 서울바보멍청이~~!!@@#$%^%^$$!@#</li>
  <li>봇:	어디긴~서울바보멍청이~~!!@@#$%^%^$$!@#이라고</li></ul></ul>
<ul>시스템 엔티티말고도 직접 만든 엔티티도 적용되는 듯 하다.</ul>
</p>

<h5>
[그룹 파라미터]</h5>
<p>
  원래 파라미터는 각 블록안에서 유일한 이름과 한 개의 엔티티만 사용 가능<br>
  그룹 파라미터를 사용하면 챗봇이 되묻기를 했을 때, 사용자가 그룹 파라미터에 포함된 여러개의 엔티티
  중 단 하나의 답만 말해도 대화의 진행이 가능하다.
</p>
<pre>

  예) 사용자가 '연도와 나이'를 챗봇에게 묻고, 챗봇이 '나는 1919년생 100살이야 너는?' 이라고 되물었다.

  	연도에 sys.number.age 엔티티 & 나이에 sys.number.birthyear 엔티티를 적용함
  	파라미터 만들기 옆에 있는 파라미터 그룹생성 클릭하여 뜨는 창에서 체크 설정 해주고 확인.

  	작동1) 2개의 엔티티 모두 적용한 경우
  	사용자:	연도와 나이
  	챗봇:	나는 1919년생 100살이야 너는?
  	사용자:	2000년생 19살
  	챗봇: 	넌 참 어리구나

  	작동2) 연도 엔티티만 적용한 경우
  	사용자:	연도와 나이
  	챗봇:	나는 1919년생 100살이야 너는?
  	사용자:	2000년생
  	챗봇:	넌 참 어리구나

  	작동3) 나이 엔티티만 적용한 경우
  	사용자:	연도와 나이
  	챗봇:	나는 1919년생 100살이야 너는?
  	사용자:	19살
  	챗봇:	넌 참 어리구나

  	위와 같이 2000년생 또는 19살 둘 중에 하나만 말해도 대화 진행 가능.
</pre>
<br>
<h5>[파라미터 검증 API]</h5>
<p>스킬로 요청 하기 전에 사용. 작업이 이뤄질 때, 파라미터의 값이 페이로드로 사용.<br>
API를 검증하기 위해서는 호출할 API url과 검증 실패시 에러메시지를 등록<br>
API를 통한 값의 ‘검증/변환’ 등의 작업은 대상이 되는 API url에 대해 HTTP url 호출 방식 일어남 <br>
정해진 형태의 결과값을 반환해주어야 정상적으로 동작</p>
<p>이외의 경우, 오류로 처리 = 갑이 채워지지 않은 것<br>
	따라서, 현재 수행중인 파라미터에 대해 슬롯필링 과정 다시 수행.<br>

예상하는데, api검증 주소를 통해서 현재 파라미터 값이 유효한 값이 아닌지 확인하는 용도인듯 하다.</p>
<pre>
  <span style="color:red">검증/변환??</span>
  api 검증: api의 기능이 제대로 작동하는지, 에러 등에 대한 다양 상황에 맞는 반응을 하는지 검증


  응답의 ‘검증/변환’의 결과 값이 스킬의 요청에 활용
  	여기서 응답이란 챗봇의 응답(한 블록의 마지막 결과값)

  payload??
  	큰 데이터 덩어리 중 관심 있는 데이터를 구별하는데 사용.
  	메세지 프로토콜 중에 프로토콜 오버헤드와 원하는 데이터를 구별할 때 사용
  	웹 서비스 응답 jason의 예에서
  	{
  		"status":"OK",
  		"data": {
  			"message":"Hello, world!:
  		}
  	}

  	여기서 hello world!가 클라이언트가 관심 가지는 페이로드.
  	-> 오버헤드란, 하나의 작업을 하기 위해 추가적인 작업 양이 많을 때, 추가 작업을 부담 된다는
  	   의미로 오버헤드

  슬롯필링???
  	파라미터가 값이 채워지지 않았을 때, 값을 채우기 위해 되묻기 질문을 사용해 사용자와 대화
  	하는 과정.
  	슬롯필링 진행되는 동안 컨텍스트의 lifespan은 차감x
  	슬롯필링 시도 횟수는 시나리오 설정이나 되묻기 질문에서 설정

  	즉, 챗봇이 물어볼 때 파라미터에 설정한 엔티티의 대표엔트리 값을 사용자가 말하지 않으면 계속
  	같은 질문을 반복하는 과정을 말한다.

</pre>
  </body>
</html>
